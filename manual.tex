\documentclass[12pt,a4paper,titlepage]{report}

\usepackage[czech]{babel}
\usepackage[latin2]{inputenc}

\title{Sí»ové aplikace a správa sítí - POP3 server}
\author{Jiøí Matìjka}
\date{17. 11. 2017}

\begin{document}

    \maketitle
    \tableofcontents

    \section{Úvod}
        Program popser je POP3 server umo¾òující pøipojení více klientù najednou.
		Klienti mohou komunikovat se servrem pomocí protokolu POP3. Server pracuje
		s emaily ve fromátu IMF v adresáøové struktuøe typu Maildir. Server
		pracuje pouze s jednou po¹tovní schránkou, do které mù¾e vstoupit pouze
		jeden u¾ivatel.

    \section{Uvedení do problematiky}
        V této èásti dokumentu je struènì popsán formát IMF a Maildir. Dále
		je zde popsána komunikace a funkènost POP3 serveru.
		\subsection{IMF - Internet message format}
			Zpráva ve formatu IMF není nic jiného, ne¾ série znakù. Znaky
			mohou nabývat US-ASCII hodnot 1-127.

			Zpráva je rozdìlena
			podle øádkù. Ka¾dý øádek je ukonèena dvìmi po sobì jdoucími znaky -
			CR (ASCII hodnota 13) a LF (ASCII hodnota 10).

			Zpráva se dále skládá z hlavièky, po které mù¾e následovat tìlo.
			Hlavièka je sekvence øádkù. Na ka¾dém øádku hlavièky je název pole
			a jeho hodnota oddìlená ":". Hlavièka je ukonèena prázdným øádkem.
			Tìlo je opìt sekvence øádkù.
		\subsection{Maildir}
			Adresáøová struktura Maildir je vhodná pro tøídìní emailù. Ka¾dý
			u¾ivatel má vlastní slo¾ku Maildir a v ní jsou slo¾ky cur, new a
			tmp. Se slo¾kou tmp pracuje pouze SMTP server.
		\subsection{Odeslání zprávy klientovi}
			Pokud klient pou¾ije jeden z pøíkazù k získání emailu, POP3 server
			danný email ode¹le. Aby klient vedìl, kdy server odeslal celou
			zprávu, ode¹le na konci emailu osamocenou teèku na øádku a dále
			nic neposílá. Pokud øádek zprávy zaèíná teèkou, server pøidá dal¹í
			teèku na zaèátek øádku.
		\subsection{POP3 pøíkazy}
			Ní¾e jsou uvedeny v¹echny mo¾né dotazy, vèetnì volitelných, na POP3
			server. Vèechny tyto pøíkazy jsou implementovány v programu popser.
			\begin{itemize}
				\item USER jmeno_uzivatele
				\item PASS heslo
				\item APOP jmeno_uzivatele heslo
				\item STAT
				\item LIST [message_id]
				\item RETR message_id
				\item DELE message_id
				\item NOOP
				\item RSET
				\item QUIT
				\item TOP message_id lines
				\item UIDL [message_id]
			\end{itemize}
			Pro pøihlá¹ení na server slou¾í pøíkazy USER, PASS a APOP. APOP vyu¾ívá
			md5 k zakódování hesla. Klíè obdr¾í od serveru na zaèátku spojení a ke
			klíèi pøipojí své heslo a výsledný øetìzec znakù za¹ifruje md5 algoritmem.
			USER a PASS slou¾í k ne¹ifrovanému pøenosu. Pokud server podporuje APOP,
			nesmí podporovat pøíkazy USER ani PASS a obrácenì. V programu popser lze
			pøepínat mezi podporou tìchto pøíkazù pomocí argumentù programu pøi jeho
			spu¹tìní.

			K pøeètení zprávy lze pou¾ít pøíkazy TOP a RETR. Pomocí pøíkazy TOP
			klient získá hlavièku zprávy a pøedem zadaný poèet øádkù zprávy (parametr lines),
			pokud je zadané vìt¹í èíslo, ne¾ je celkový poèet øádkù, ode¹le se celý email.

			K získání identifikátorù emailù lze pou¾ít pøíkazi LIST a UIDL. List
			vypí¹e v¹echny emaily, které nejsou oznaèeny ke smazaní a ka¾dému pøidìlí
			ID a vedle ID vypí¹e jeho velikost v oktetech. UIDL k ID zprávám vypí¹e
			jejich unikátní ID v rámci celého Maildiru. ID zpráv se na rozdíl od
			tohoto unikátního ID mù¾e mìnit.

			Pro zji¹tìní velikosti Maildiru (bez slo¾ky tmp) lze pou¾ít pøíkaz STAT.
			Uvedená velikost je v oktetech.

			DELE slou¾í k mazání zpráv. Zprávy se ma¾ou a¾ po zadání pøíkazu QUIT.
			Do té doby je mo¾né obnovit zprávy oznaèené ke smazání pøíkazem RSET.

			Na pøíkaz NOOP server pouze odpoví.
		\subsection{stavy serveru}
			POP3 server má 3 základní stavy.
			\begin{itemize}
				\item AUTHORIZATION
				\item TRANSACTION
				\item UPDATE
			\end{itemize}
			Ve stavu AUTHORIZATION lze pouze pou¾ívát pøíkazy USER, PASS, APOP a QUIT,
			tento stav slou¾í k autorizaci u¾ivatle, poté co se u¾ivatel proká¾e
			platnými pøihla¹ovacími údaji, pøejde se do stavu TRANSACTION.
    \section{Druhá kapitola}
        Je¹tì zajímavìj¹í text druhé kapitoly.

        \subsection{Nadpis druhé úrovnì}
            Logicky oddìlený celek.

   \section{Závìr}
       Zajímavé shrnutí Va¹í práce.

\end{document}